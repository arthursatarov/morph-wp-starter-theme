////
/// Base Color Retrieval Function
///
/// This function provides safe access to base color values from nested
/// theme maps with comprehensive error handling. It validates the existence
/// of both color categories and shade variants before returning values.
///
/// @group Functions
/// @since 0.0.1
////

/* ======================================================
Table of Contents
–––––––––––––––––––––––––––––––––––––––––––––––––––––––––
	1.0 DEPENDENCIES
	2.0 BASE COLOR FUNCTIONS
====================================================== */

/* ======================================================
  1.0 DEPENDENCIES
====================================================== */

/* 1.1 SASS MODULES
/––––––––––––––––––––––––------------ */
// Import Sass built-in map module for map operations
@use "sass:map";

/* ======================================================
  2.0 BASE COLOR FUNCTIONS
====================================================== */

/* 2.1 GET BASE COLOR
/––––––––––––––––––––––––------------ */
/// Retrieves a specific color shade from a base color palette.
///
/// This function safely extracts color values from nested theme maps by
/// validating the existence of both the color category (e.g., "neutral",
/// "accent") and the shade variant (e.g., 0-13, "white", "black") before
/// returning the value. It provides detailed error messages if keys are not found.
///
/// @group Functions
/// @since 0.0.1
///
/// @param {Map} $theme - Base color theme map containing color categories
/// @param {String} $color - Color category name (e.g., "neutral", "accent", "success")
/// @param {String|Number} $shade - Shade variant (numeric 0-13 or string like "white", "black")
///
/// @return {Color} The hex color value for the specified shade
///
/// @throw Error if the color category doesn't exist in the theme
/// @throw Error if the shade variant doesn't exist in the color category
@function get-base-color($theme, $color, $shade) {
	// Validate that the color category exists in the theme map
	@if not map.has-key($theme, $color) {
		@error "Base color '#{$color}' not found. Available: #{map.keys($theme)}";
	}

	// Extract the color map for the specified category
	$color-map: map.get($theme, $color);

	// Validate that the shade variant exists in the color map
	@if not map.has-key($color-map, $shade) {
		@error "Shade '#{$shade}' not found in '#{$color}'. Available: #{map.keys($color-map)}";
	}

	// Return the color value
	@return map.get($color-map, $shade);
}
